#!/bin/bash

module purge

# build tools
module load compiler/icc/2016.3.210-GCC-5.4.0-2.26
module load cmake/3.5.2

# PISM prerequisites
module load cdo/1.7.1
module load gsl/1.16
module load proj/4.9.2RC2
module load hdf5-parallel/1.8.15p1.intel-2016
module load netcdf-parallel/4.3.3.1-parallel.intel-2016

# the batch system
module load slurm

# start an interactive job
alias interact="srun -p debug --nodes=1 --exclusive -I --pty /bin/bash"

export PISM_MPIDO='mpirun -np'

# don't load anaconda when building PISM: it pulls in its own NetCDF
# stuff, which can confuse things
# module load python/anaconda2-2.5.0
